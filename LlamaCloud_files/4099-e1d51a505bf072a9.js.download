try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="29495b43-e601-44eb-a422-d683e82765c0",e._sentryDebugIdIdentifier="sentry-dbid-29495b43-e601-44eb-a422-d683e82765c0")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4099],{44099:(e,n,t)=>{t.d(n,{CQ:()=>Q,D6:()=>x,It:()=>j,JT:()=>g,JY:()=>N,Jh:()=>q,KR:()=>k,ServerResourceProvider:()=>v,WE:()=>K,ac:()=>S,e2:()=>O,iN:()=>w,j3:()=>b,jI:()=>E,pP:()=>P,vN:()=>F});var r=t(38761),a=t(51851),i=t(82667),u=t(98946),l=t(1664),o=t(51069),s=t(89565),c=t(14486),d=t(53934),y=t(79023),_=t(76933),m=t(38717),f=t(36013);let h=(0,s.createContext)({role:Promise.resolve(null)}),w={FULL_WRITE:"full_write",READ_ONLY:"read_only"},v=e=>{let n,t=(0,a.c)(3);return t[0]!==e.children||t[1]!==e.value?(n=(0,r.jsx)(h,{value:e.value,children:e.children}),t[0]=e.children,t[1]=e.value,t[2]=n):n=t[2],n},p=()=>s.use(h);function j(){let e=p();return(0,s.use)(e.role)}function g(e){var n,t,r;let a=p();return null===a?(console.warn("PermissionProvider not found in the component tree"),!1):(null==(n=(null!=(r=null==(t=(0,s.use)(a.role))?void 0:t.permissions)?r:[]).find(n=>{let{name:t}=n;return t===e}))?void 0:n.access)===!0}let q=()=>{let e,n=(0,a.c)(2),t=(0,u.x)();n[0]!==t?(e={queryKey:["usage",t],queryFn:async()=>{let{data:e}=await (0,i.R9Z)({path:{organization_id:t},query:{get_current_invoice_total:!0},throwOnError:!0});return e}},n[0]=t,n[1]=e):e=n[1];let{data:r}=(0,o.U)(e);return r},E=()=>{let e,n=(0,a.c)(2),t=(0,u.x)();n[0]!==t?(e={queryKey:["plan",t],queryFn:async()=>{try{let{data:e}=await (0,i.TgN)({path:{organization_id:t},throwOnError:!0});return e}catch(e){return c.v.error(e,{source:"hooks/resource/usePlan",organizationId:t}),null}}},n[0]=t,n[1]=e):e=n[1];let{data:r}=(0,o.U)(e);return r},x=()=>q().plan.is_payment_failed,b=()=>{let e=q();return!!e.usage.active_alerts&&e.usage.active_alerts.length>0},F=()=>{var e;let n=p(),{usage:t,plan:r}=q();return null===n?(console.warn("PermissionProvider not found in the component tree"),0):null===r.limits.max_users?1:r.limits.max_users-(null!=(e=t.total_users)?e:0)},K=()=>{let e,n=(0,a.c)(2),{plan:t}=q(),r=(0,u.F)();n[0]!==r?(e={projectId:r},n[0]=r,n[1]=e):e=n[1];let{data:i}=(0,m.N9)(e);return null===t.limits.max_extraction_agents?Number.MAX_SAFE_INTEGER:t.limits.max_extraction_agents-i.length},O=e=>{let{data:n}=(0,l.YK)(e),{plan:t}=q();return null===t.limits.max_projects?1:t.limits.max_projects-n.length},P=e=>{let{plan:n}=q(),{data:t}=(0,f.QM)(e),{total_count:r}=t;return null===n.limits.max_files_per_index?1:n.limits.max_files_per_index-r},S=()=>{var e;let n=p(),{usage:t,plan:r}=q();return null===n?(console.warn("PermissionProvider not found in the component tree"),0):null===r.limits.max_indexes?1:r.limits.max_indexes-(null!=(e=t.total_indexes)?e:0)},Q=e=>{let{data:n}=(0,y.jJ)(e),t=p(),{plan:r}=q();return null===t?(console.warn("PermissionProvider not found in the component tree"),0):null===r.limits.max_data_sources?1:r.limits.max_data_sources-n.length},k=e=>{let{data:n}=(0,d.n4)(e),t=p(),{plan:r}=q();return null===t?(console.warn("PermissionProvider not found in the component tree"),0):null===r.limits.max_data_sinks?1:r.limits.max_data_sinks-n.length},N=e=>{let{data:n}=(0,_.Ry)(e),t=p(),{plan:r}=q();return null===t?(console.warn("PermissionProvider not found in the component tree"),0):null===r.limits.max_embedding_models?1:r.limits.max_embedding_models-n.length}},53934:(e,n,t)=>{t.d(n,{OD:()=>y,PV:()=>w,WK:()=>f,kG:()=>s,n4:()=>d,y:()=>m});var r=t(51851),a=t(82667),i=t(51069),u=t(83254),l=t(11419),o=t(1664);let s="dataSinks",c=e=>({queryKey:[o.js,s,e],queryFn:async()=>{let{data:n}=await (0,a.QVC)({query:{project_id:e},throwOnError:!0});return n}});function d(e){let n,t,a=(0,r.c)(2);return a[0]!==e?(t=c(e),a[0]=e,a[1]=t):t=a[1],n=t,(0,i.U)(n)}function y(e){let n,t,a=(0,r.c)(2);return a[0]!==e?(t=e?c(e.id):{queryKey:[o.js,s,null],queryFn:_},a[0]=e,a[1]=t):t=a[1],n=t,(0,i.U)(n)}async function _(){return[]}function m(e,n){let t,i,c,d=(0,r.c)(10),y=(0,u.jE)();return d[0]!==e?(t=async n=>{let{data:t}=await (0,a.xHj)({query:{project_id:e},body:n.body,throwOnError:!0});return t},d[0]=e,d[1]=t):t=d[1],d[2]!==n||d[3]!==e||d[4]!==y?(i=async function(t){for(var r,a=arguments.length,i=Array(a>1?a-1:0),u=1;u<a;u++)i[u-1]=arguments[u];await y.invalidateQueries({queryKey:[o.js,s,e]}),null==n||null==(r=n.onSuccess)||r.call(n,t,...i)},d[2]=n,d[3]=e,d[4]=y,d[5]=i):i=d[5],d[6]!==n||d[7]!==t||d[8]!==i?(c={mutationFn:t,...n,onSuccess:i},d[6]=n,d[7]=t,d[8]=i,d[9]=c):c=d[9],(0,l.n)(c)}function f(){let e,n=(0,r.c)(2),t=(0,u.jE)();return n[0]!==t?(e={mutationFn:h,onSuccess:async()=>{await t.invalidateQueries({queryKey:[o.js,s]})}},n[0]=t,n[1]=e):e=n[1],(0,l.n)(e)}async function h(e){let{data:n}=await (0,a.B5H)({path:{data_sink_id:e},throwOnError:!0});return n}function w(e,n){let t,a,i=(0,r.c)(6),c=(0,u.jE)();return i[0]!==n||i[1]!==c?(t=async function(e){for(var t,r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];await c.invalidateQueries({queryKey:[o.js,s]}),null==n||null==(t=n.onSuccess)||t.call(n,e,...a)},i[0]=n,i[1]=c,i[2]=t):t=i[2],i[3]!==n||i[4]!==t?(a={mutationFn:v,...n,onSuccess:t},i[3]=n,i[4]=t,i[5]=a):a=i[5],(0,l.n)(a)}async function v(e){let{data:n}=await (0,a.NhA)({...e,throwOnError:!0});return n}},76933:(e,n,t)=>{t.d(n,{LQ:()=>s,LU:()=>d,Ry:()=>c});var r=t(51851),a=t(82667),i=t(51069),u=t(83254),l=t(11419),o=t(1664);let s="embeddingModelConfigs",c=e=>{let n,t,u=(0,r.c)(2);return u[0]!==e?(t=(e=>({queryKey:[o.js,s,e],queryFn:async()=>{let{data:n}=await (0,a.mmV)({query:{project_id:e},throwOnError:!0});return n}}))(e),u[0]=e,u[1]=t):t=u[1],n=t,(0,i.U)(n)},d=e=>{let n,t,i,c=(0,r.c)(7),{project_id:d}=e,y=(0,u.jE)();return c[0]!==d?(n=async e=>{await (0,a.qvC)({path:{embedding_model_config_id:e},query:{project_id:d},throwOnError:!0})},c[0]=d,c[1]=n):n=c[1],c[2]!==y?(t=async()=>{await y.invalidateQueries({queryKey:[o.js,s]})},c[2]=y,c[3]=t):t=c[3],c[4]!==n||c[5]!==t?(i={mutationFn:n,onSuccess:t},c[4]=n,c[5]=t,c[6]=i):i=c[6],(0,l.n)(i)}},79023:(e,n,t)=>{t.d(n,{MJ:()=>p,QU:()=>m,_l:()=>q,jJ:()=>d,qQ:()=>y,sk:()=>g,uS:()=>h,ue:()=>s,ve:()=>w});var r=t(51851),a=t(82667),i=t(51069),u=t(83254),l=t(11419),o=t(1664);let s="data-source",c=e=>({queryKey:[o.js,s,e],queryFn:async()=>{let{data:n}=await (0,a.iQ3)({query:{project_id:e},throwOnError:!0});return n}});function d(e){let n,t,a=(0,r.c)(2);return a[0]!==e?(t=c(e),a[0]=e,a[1]=t):t=a[1],n=t,(0,i.U)(n)}function y(e){let n,t,a=(0,r.c)(2);return a[0]!==e?(t=e?c(e.id):{queryKey:[o.js,s,null],queryFn:_},a[0]=e,a[1]=t):t=a[1],n=t,(0,i.U)(n)}async function _(){return[]}function m(e,n){let t,a,i=(0,r.c)(7),c=(0,u.jE)();return i[0]!==n||i[1]!==e||i[2]!==c?(t=async function(t){for(var r,a=arguments.length,i=Array(a>1?a-1:0),u=1;u<a;u++)i[u-1]=arguments[u];await c.invalidateQueries({queryKey:[o.js,s,e]}),null==n||null==(r=n.onSuccess)||r.call(n,t,...i)},i[0]=n,i[1]=e,i[2]=c,i[3]=t):t=i[3],i[4]!==n||i[5]!==t?(a={mutationFn:f,...n,onSuccess:t},i[4]=n,i[5]=t,i[6]=a):a=i[6],(0,l.n)(a)}async function f(e){let{data:n}=await (0,a.Nvm)({...e,throwOnError:!0});return n}function h(e){let n,t=(0,r.c)(2);return t[0]!==e?(n={queryKey:[o.js,s,e],queryFn:async()=>{let{data:n}=await (0,a.yhs)({path:{pipeline_id:e},throwOnError:!0});return n}},t[0]=e,t[1]=n):n=t[1],(0,i.U)(n)}function w(e,n){let t,a,i=(0,r.c)(7),c=(0,u.jE)();return i[0]!==n||i[1]!==e||i[2]!==c?(t=async function(t){for(var r,a=arguments.length,i=Array(a>1?a-1:0),u=1;u<a;u++)i[u-1]=arguments[u];await c.invalidateQueries({queryKey:[o.js,s,e]}),null==n||null==(r=n.onSuccess)||r.call(n,t,...i)},i[0]=n,i[1]=e,i[2]=c,i[3]=t):t=i[3],i[4]!==n||i[5]!==t?(a={mutationFn:v,...n,onSuccess:t},i[4]=n,i[5]=t,i[6]=a):a=i[6],(0,l.n)(a)}async function v(e){let{data:n}=await (0,a.xOL)({...e,throwOnError:!0});return n}function p(){let e,n=(0,r.c)(2),t=(0,u.jE)();return n[0]!==t?(e={mutationFn:j,onSuccess:async()=>{await t.invalidateQueries({queryKey:[o.js,s]})}},n[0]=t,n[1]=e):e=n[1],(0,l.n)(e)}async function j(e){let{id:n,component:t,sourceType:r}=e;return(0,a.xOL)({path:{data_source_id:n},body:{source_type:r,component:t}})}function g(e){let n,t,i,c=(0,r.c)(8),d=(0,u.jE)();return c[0]!==e?(n=async n=>{let{dataSourceId:t,syncInterval:r}=n;return(0,a.$oj)({path:{pipeline_id:e,data_source_id:t},body:r?{sync_interval:r}:{sync_interval:null}})},c[0]=e,c[1]=n):n=c[1],c[2]!==e||c[3]!==d?(t=async()=>{await d.invalidateQueries({queryKey:[o.js,s,e]})},c[2]=e,c[3]=d,c[4]=t):t=c[4],c[5]!==n||c[6]!==t?(i={mutationFn:n,onSuccess:t},c[5]=n,c[6]=t,c[7]=i):i=c[7],(0,l.n)(i)}function q(){let e,n=(0,r.c)(2),t=(0,u.jE)();return n[0]!==t?(e={mutationFn:E,onSuccess:async()=>{await t.invalidateQueries({queryKey:[o.js,s]})}},n[0]=t,n[1]=e):e=n[1],(0,l.n)(e)}async function E(e){let{data:n}=await (0,a.X11)({path:{data_source_id:e},throwOnError:!0});return n}}}]);